
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rifa Pix de R$ 50</title>
  <!-- CSS externo -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>ğŸŸï¸ Rifa PIX de R$ 50</h1>
<div id="pendingAlert" class="pending-alert" style="display:none;">
  âš ï¸ VocÃª tem uma reserva em andamento â€”
  <strong>clique aqui para finalizar o pagamento</strong>
  <span id="pendingTime"></span>
</div>

<div id="pendingAlert"
     style="
       display:none;
       position:sticky;
       top:0;
       z-index:999;
       background:#fff3cd;
       color:#856404;
       padding:12px;
       text-align:center;
       font-weight:600;
       border-bottom:2px solid #ffeeba;
       cursor:pointer;
     "
     onclick="openPendingPayment()">
</div>

<div id="pendingAlert" class="pending-alert" style="display:none;"></div>

<div class="grid" id="grid"></div>

<button
  id="affiliateBtn"
  class="affiliate-btn"
  onclick="showAffiliateRules()"
>
  ğŸ¤ Indique e Ganhe
</button>

<div class="cart" onclick="openModal()">
  ğŸ›’ <span id="count">0</span> | R$ <span id="total">0,00</span>
</div>

<div class="modal" id="modal">
  <div class="modal-content">

    <!-- TÃTULO -->
    <h3 class="pix-title">ğŸ’¸ Pagamento via Pix</h3>

<div class="pix-steps">
<div id="pendingModalAlert" class="pending-alert" style="display:none;"></div>

  <span class="active">1ï¸âƒ£ IdentificaÃ§Ã£o</span>
  <span>2ï¸âƒ£ Pagamento</span>
  <span>3ï¸âƒ£ Comprovante</span>
</div>

    <!-- VALOR -->
    <div class="pix-amount">
      R$ <span id="modalTotal">0,00</span>
    </div>

    <!-- FORMULÃRIO -->
    <div id="buyerForm">
      <p><strong>IdentificaÃ§Ã£o do comprador</strong></p>

      <input type="text" id="buyerName" class="input" placeholder="Nome (obrigatÃ³rio)">
      <input type="tel" id="buyerPhone" class="input"
        placeholder="WhatsApp (obrigatÃ³rio)"
        oninput="maskWhatsApp(this)"
      >

      <div id="limitWarning" class="pix-warning" style="display:none;"></div>
      <div id="limitCounter" class="pix-warning" style="display:none;"></div>

      <button type="button" class="copy" onclick="confirmBuyer()">
  Continuar para pagamento
  </button>
      
    </div>

    <!-- PAGAMENTO -->
    <div id="paymentArea" style="display:none;">
<div
  id="paymentTimer"
  style="
    font-size:22px;
    font-weight:bold;
    color:#c62828;
    margin:10px 0;
    display:none;
  "
>
  â³ Reserva vÃ¡lida por: <span id="paymentTime">00:00</span>
</div>

      <div class="pix-warning">
        âš ï¸ <strong>AtenÃ§Ã£o:</strong><br>
        O recebedor pode aparecer como empresa ou identificador numÃ©rico.
        Isso Ã© normal no Pix Copia e Cola.
      </div>

      <img src="qrcode.png" class="pix-qrcode" alt="QR Code Pix">

      <textarea id="pix" readonly>00020126580014br.gov.bcb.pix013615d0557a-2ef4-4187-9fd9-c4c4c985c76c5204000053039865802BR5901N6001C62090505648266304DCF2</textarea>

      <button class="copy" onclick="copyPix()">ğŸ“‹ Copiar Pix</button>

      <p>
        Envie o comprovante para:<br>
        <strong>WhatsApp (21) 98203-4341</strong>
      </p>

      <button class="help-btn" onclick="alert('Use Pix â†’ Copia e Cola no app do seu banco.')">
        â“ Como pagar este Pix
      </button>
    </div>

    <!-- FECHAR -->
    <button class="close" onclick="closeModal()">Fechar</button>

  </div>
</div>


<h3>ğŸ”’ Painel do Organizador</h3>
<button
  onclick="resetRaffle()"
  style="background:#c62828;color:#fff;padding:10px;border:none;border-radius:8px;width:100%;margin-bottom:10px;"
>
  ğŸ§¨ Resetar rifa
</button>

<button
  onclick="exportPaidReport()"
  style="background:#2e7d32;color:#fff;padding:10px;border:none;border-radius:8px;width:100%;margin-bottom:10px;"
>
  ğŸ“„ Exportar relatÃ³rio (pagos)
</button>

<button id="adminBtn" onclick="openAdmin()">
  ğŸ”’ Ãrea do administrador
</button>

<div id="panel" style="display:none;"></div>

<button onclick="exportReport()" style="margin-top:10px">
  ğŸ§¾ Exportar relatÃ³rio (texto)
</button>

<!-- JavaScript externo -->
<script src="script.js"></script>

</body>
  </html>
